<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>ezPython: blocks</title>
      <script src="../../lib/blockly/blockly_uncompressed.js"></script>
      <script src="../../lib/blockly/blocks_compressed.js"></script>
      <script src="../../lib/blockly/msg/js/fr.js"></script>
      <script src="../../lib/ezp/core/ezp.js"></script>
      <script src="../../lib/ezp/core/ui.js"></script>
      <script src="../../lib/ezp/closure/menurenderer.js"></script>
      <script src="../../lib/ezp/closure/menuitemrenderer.js"></script>
      <script src="../../lib/ezp/blockly/constants.js"></script>
      <script src="../../lib/ezp/blockly/block.js"></script>
      <script src="../../lib/ezp/blockly/delegate.js"></script>
      <script src="../../lib/ezp/blockly/block_svg.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg_val.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg_stt.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg_grp.js"></script>
      <script src="../../lib/ezp/blockly/variables.js"></script>
      <script src="../../lib/ezp/blockly/workspace.js"></script>
      <script src="../../lib/ezp/blockly/workspace_svg.js"></script>
      <script src="../../lib/ezp/blockly/field_label.js"></script>
      <script src="../../lib/ezp/blockly/field_textinput.js"></script>
      <script src="../../lib/ezp/blockly/field_dropdown.js"></script>
      <script src="../../lib/ezp/blockly/print_field_dropdown.js"></script>
      <script src="../../lib/ezp/blockly/field_variable.js"></script>
      <script src="../../lib/ezp/blockly/blocks.js"></script>
      <script src="../../lib/ezp/blockly/rendered_connection.js"></script>
      <script src="../../lib/ezp/blockly/consistency.js"></script>
      <script src="../js/test-blocks.js"></script>
      <link rel="stylesheet" type="text/css" href="../../lib/ezp/css/ezp.css">
    </head>
  <body>

    <div id="ezpDiv" style="height: 480px; width: 600px;"></div>

    <xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">
      <category name="0">
        <block type="ezp_stt_print"></block>
      </category>
      <category name="1">
        <block type="ezp_stt"></block>
      </category>
      <category name="if">
        <block type="ezp_grp"></block>
        <block type="ezp_grp_if"></block>
        <block type="ezp_grp_elif"></block>
        <block type="ezp_grp_else"></block>
        <block type="ezp_grp_for"></block>
        <block type="ezp_grp_while"></block>
        <block type="ezp_val"></block>
        <block type="ezp_stt"></block>
      </category>
    </xml>
    <xml xmlns="http://www.w3.org/1999/xhtml" id="workspaceBlocks" style="display:none">
      <variables></variables>
      <block type="ezp_grp_if" id="_Tx)})C]ZjiQn$!Q,8[z" x="138" y="13">
        <value name="COND">
          <block type="ezp_val" id="ojgWp{{p3m:9*AJp1cH!">
            <field name="ARG">1+1</field>
          </block>
        </value>
        <statement name="DO">
          <block type="ezp_stt_print" id="vwMj~,4J6~(j3[!vu8KW">
            <value name="TUPLE_0_0">
              <shadow type="ezp_val_text" id="IAat=(1dDkPAZI@eMn@0">
                <field name="TEXT">Bonjour !</field>
              </shadow>
            </value>
            <next>
              <block type="ezp_stt" id="ZO(egF+,V(+u)of!pXP2">
                <field name="CODE">Do it right !</field>
                <next>
                  <block type="ezp_stt_print" id="9sw#ASa!37ga!){Jh3W]">
                    <value name="TUPLE_0_0">
                      <block type="ezp_val_text" id="7h13aW1lXrp[BB)P)XmS">
                        <field name="TEXT">Bonjour !</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </xml>
    <script>
      /* TODO: Change toolbox XML ID if necessary. Can export toolbox XML from Workspace Factory. */
      var toolbox = document.getElementById("toolbox");

      var options = {
      	toolbox : toolbox,
      	collapse : true,
      	comments : false,
      	disable : true,
      	maxBlocks : Infinity,
      	trashcan : false,
      	horizontalLayout : false,
      	toolboxPosition : 'start',
      	css : true,
      	media : '../../lib/blockly/media/',
      	rtl : false,
      	scrollbars : true,
      	sounds : true,
      	oneBasedIndex : true
      };

      /* Inject your workspace */
      var workspace = Blockly.inject('ezpDiv', options);

      ezP.setup(workspace);

      /* Load Workspace Blocks from XML to workspace. Remove all code below if no blocks to load */

      /* TODO: Change workspace blocks XML ID if necessary. Can export workspace blocks XML from Workspace Factory. */
      var workspaceBlocks = document.getElementById("workspaceBlocks");

      /* Load blocks to workspace. */
      Blockly.Xml.domToWorkspace(workspaceBlocks,workspace);

      </script>

  </body>
</html>
