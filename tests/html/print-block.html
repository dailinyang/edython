<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>ezPython: blocks</title>
      <script src="../../lib/blockly/blockly_uncompressed.js"></script>
      <script src="../../lib/blockly/blocks_compressed.js"></script>
      <script src="../../lib/blockly/msg/js/en.js"></script>
      <script src="../../lib/ezp/core/ezp.js"></script>
      <script src="../../lib/ezp/core/ui.js"></script>
      <script src="../../lib/ezp/closure/menurenderer.js"></script>
      <script src="../../lib/ezp/closure/menuitemrenderer.js"></script>
      <script src="../../lib/ezp/blockly/block.js"></script>
      <script src="../../lib/ezp/blockly/delegate.js"></script>
      <script src="../../lib/ezp/blockly/workspace.js"></script>
      <script src="../../lib/ezp/blockly/block_svg.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg_val.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg_stt.js"></script>
      <script src="../../lib/ezp/blockly/delegate_svg_grp.js"></script>
      <script src="../../lib/ezp/blockly/workspace_svg.js"></script>
      <script src="../../lib/ezp/blockly/field_label.js"></script>
      <script src="../../lib/ezp/blockly/field_textinput.js"></script>
      <script src="../../lib/ezp/blockly/field_dropdown.js"></script>
      <script src="../../lib/ezp/blockly/print_field_dropdown.js"></script>
      <script src="../../lib/ezp/blockly/blocks.js"></script>
      <script src="../../lib/ezp/blockly/rendered_connection.js"></script>
      <script src="../../lib/ezp/blockly/consistency.js"></script>
      <script src="../js/test-blocks.js"></script>
      <link rel="stylesheet" type="text/css" href="../../lib/ezp/css/ezp.css">
    </head>
  <body>

    <div id="ezpDiv" style="height: 480px; width: 600px;"></div>

    <xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">
      <category name="0">
        <block type="ezp_stt_print_1"></block>
      </category>
      <category name="EZP">
        <block type="ezp_val_text">
          <field name="TEXT">Bonjour !</field>
        </block>
        <block type="ezp_val_text_no-select">
          <field name="TEXT">Bonjour 2 !</field>
        </block>
        <block type="ezp_val_tuple"></block>
        <block type="ezp_stt_print_1">
        </block>
        <block type="ezp_stt_print">
          <value name="FILE">
            <block type="ezp_val_text_no-select">
              <field name="TEXT">Bonjour 2 !</field>
            </block>
          </value>
        </block>
      </category>
    </xml>
    <script>
      Blockly.Blocks['ezp_val_text_no-select'] = {
      init: function() {
        this.appendDummyInput().appendField(new EZP.FieldLabel('"'));
        this.appendDummyInput().appendField(new EZP.FieldTextInput(""), "TEXT");
        this.appendDummyInput().appendField(new EZP.FieldLabel('"'));
        this.setInputsInline(true);
        this.setOutput(true, null);
        this.setTooltip("");
        this.setHelpUrl("");
        this.setMovable(false);
      }
      };
      Blockly.Blocks['ezp_stt_print_1'] = {
      init: function() {
        this.appendDummyInput().appendField(new EZP.FieldLabel('print'));
        this.appendValueInput("FILE").appendField(new EZP.FieldLabel(',file = '));
        this.appendDummyInput("OPTIONS").appendField(new EZP.PrintFieldDropdown([
            ['end = ...', EZP.PrintFieldDropdown.END],
            ['sep = ...', EZP.PrintFieldDropdown.SEP],
            ['file = ...', EZP.PrintFieldDropdown.FILE]]));
        this.setInputsInline(true);
        this.setPreviousStatement(true, null);
        this.setNextStatement(true, null);
        this.setTooltip("");
        this.setHelpUrl("");
        this.isMovable(false);
      }
      };

      EZP.setup();
      var demoWorkspace = Blockly.inject('ezpDiv',
                                       {media: '../../lib/blockly/media/',
                                       toolbox: document.getElementById('toolbox')});
      </script>

  </body>
</html>
