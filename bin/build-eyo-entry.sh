#/usr/bin/env
cd "$(dirname "$0")/.."
ENTRY="src/lib/eyo/entry.js"
cat > "$ENTRY" <<EOF
/**
 * edython
 *
 * Copyright 2018 Jérôme LAURENS.
 *
 * License CeCILL-B
 */
/**
 * @fileoverview List of required files.
 * @author jerome.laurens@u-bourgogne.fr (Jérôme LAURENS)
 */
'use strict'
// DO NOT EDIT THIS FILE, BUILT AUTOMATICALLY BY build-eyo-entry.command
EOF
echo "Extracting the provided"
find src/lib/eyo/ -type f -exec grep -IE "^\s*goog.provide\('eYo[^:]*'\)" "{}" \; >> "$ENTRY"
echo "Change the provided to required"
sed -e 's/provide/require/g' "$ENTRY" > "$ENTRY"
echo 'Done'
